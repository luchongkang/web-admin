(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17ee3b24"],{1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"26b0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"filter-container"},[n("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增页面")])],1)])],1),t._v(" "),n("el-tree",{ref:"tree",attrs:{data:t.renderList,"default-expanded-keys":t.renderIDs,"node-key":"id","expand-on-click-node":!1,"render-content":t.renderContent}}),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible,title:t.dialogTitle},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.api,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"名称"},model:{value:t.api.title,callback:function(e){t.$set(t.api,"title",e)},expression:"api.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"路径"}},[n("el-input",{attrs:{placeholder:"路径"},model:{value:t.api.path,callback:function(e){t.$set(t.api,"path",e)},expression:"api.path"}})],1)],1),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmApi}},[t._v("确定")])],1)],1)],1)},r=[],a=(n("ac4d"),n("8a81"),n("ac6a"),n("96cf"),n("3b8d")),s=n("b775");function o(){return Object(s["a"])({url:"/v1/api/system/index",method:"get"})}function l(t){return Object(s["a"])({url:"/v1/api/system/editApi",method:"post",data:t})}var c={id:"0",title:"",path:"",pid:"0",isMenu:"1"},u={data:function(){return{api:Object.assign({},c),list:[],dialogVisible:!1,dialogTitle:"新建页面",dialogType:0}},computed:{renderList:function(){return this.list},renderIDs:function(){return this.list.map((function(t){if(0===t.pid)return t.id}))}},created:function(){this.getApi()},methods:{getApi:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:e=t.sent,this.list=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleAdd:function(){this.dialogTitle="新建页面",this.dialogType=0,this.api=Object.assign({},c),this.dialogVisible=!0},handleAppend:function(t,e){switch(this.dialogVisible=!0,this.dialogType=e,this.api=Object.assign({},c),e){case 0:this.dialogTitle="新建 “"+t.title+"” 的子页面";break;case 1:this.api.isMenu="0",this.api.path="/v1/api"+t.path,this.dialogTitle="新建 “"+t.title+"” 页面的新接口";break;case 2:this.dialogTitle="修改 “"+t.title+"”",this.api.id=t.id+"",this.api.title=t.title,this.api.path=t.path;break}this.api.pid=""+t.id},updateTree:function(t,e){var n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var o=a.value;o.children&&(o.children=this.updateTree(o.children,e)),"0"===this.api.id?this.api.pid===o.id+""&&(o.children||this.$set(o,"children",[]),e.isMenu+""==="0"&&(e.label=this.api.title+"  API路径:"+this.api.path),o.children.push(e)):this.api.id===o.id+""&&(o.isMenu+""==="0"?o.label=this.api.title+"  API路径:"+this.api.path:o.label=this.api.title,o.title=this.api.title,o.path=this.api.path)}}catch(l){i=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return t},confirmApi:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l(this.api);case 2:if(e=t.sent,n=e.data,i=e.status,r=e.msg,0===i){t.next=8;break}return t.abrupt("return",this.$message.error(r));case 8:if(this.dialogVisible=!1,"0"===this.api.pid){t.next=12;break}return this.list=this.updateTree(this.list,n),t.abrupt("return");case 12:if("0"!==this.api.pid){t.next=15;break}return this.list=this.list.concat(n),t.abrupt("return");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),renderContent:function(t,e){var n=this,i=e.node,r=e.data;e.store;return 0===r.pid?r.children?0===r.children[0]["isMenu"]?t("span",{class:"custom-tree-node"},[t("span",[i.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,1)}}},["添加接口"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,2)}}},["修改"])])]):t("span",{class:"custom-tree-node"},[t("span",[i.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,0)}}},["添加子页面"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,2)}}},["修改"])])]):t("span",{class:"custom-tree-node"},[t("span",[i.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,0)}}},["添加子页面"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,1)}}},["添加接口"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,2)}}},["修改"])])]):0===r.isMenu?t("span",{class:"custom-tree-node"},[t("span",[i.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,2)}}},["修改"])])]):t("span",{class:"custom-tree-node"},[t("span",[i.label]),t("span",[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,1)}}},["添加接口"]),t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.handleAppend(r,2)}}},["修改"])])])}}},p=u,f=(n("6304"),n("2877")),d=Object(f["a"])(p,i,r,!1,null,null,null);e["default"]=d.exports},"37c8":function(t,e,n){e.f=n("2b4c")},"3a72":function(t,e,n){var i=n("7726"),r=n("8378"),a=n("2d00"),s=n("37c8"),o=n("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},6304:function(t,e,n){"use strict";var i=n("af4c"),r=n.n(i);r.a},"67ab":function(t,e,n){var i=n("ca5a")("meta"),r=n("d3f4"),a=n("69a8"),s=n("86cc").f,o=0,l=Object.isExtensible||function(){return!0},c=!n("79e5")((function(){return l(Object.preventExtensions({}))})),u=function(t){s(t,i,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},f=function(t,e){if(!a(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},d=function(t){return c&&h.NEED&&l(t)&&!a(t,i)&&u(t),t},h=t.exports={KEY:i,NEED:!1,fastKey:p,getWeak:f,onFreeze:d}},"7bbc":function(t,e,n){var i=n("6821"),r=n("9093").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):r(i(t))}},"8a81":function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("9e1e"),s=n("5ca1"),o=n("2aba"),l=n("67ab").KEY,c=n("79e5"),u=n("5537"),p=n("7f20"),f=n("ca5a"),d=n("2b4c"),h=n("37c8"),b=n("3a72"),y=n("d4c0"),m=n("1169"),v=n("cb7c"),g=n("d3f4"),w=n("4bf8"),x=n("6821"),k=n("6a99"),O=n("4630"),S=n("2aeb"),A=n("7bbc"),j=n("11e9"),T=n("2621"),E=n("86cc"),_=n("0d58"),P=j.f,z=E.f,N=A.f,F=i.Symbol,I=i.JSON,M=I&&I.stringify,C="prototype",V=d("_hidden"),J=d("toPrimitive"),D={}.propertyIsEnumerable,$=u("symbol-registry"),R=u("symbols"),K=u("op-symbols"),W=Object[C],L="function"==typeof F&&!!T.f,Y=i.QObject,G=!Y||!Y[C]||!Y[C].findChild,Q=a&&c((function(){return 7!=S(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=P(W,e);i&&delete W[e],z(t,e,n),i&&t!==W&&z(W,e,i)}:z,q=function(t){var e=R[t]=S(F[C]);return e._k=t,e},B=L&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},H=function(t,e,n){return t===W&&H(K,e,n),v(t),e=k(e,!0),v(n),r(R,e)?(n.enumerable?(r(t,V)&&t[V][e]&&(t[V][e]=!1),n=S(n,{enumerable:O(0,!1)})):(r(t,V)||z(t,V,O(1,{})),t[V][e]=!0),Q(t,e,n)):z(t,e,n)},U=function(t,e){v(t);var n,i=y(e=x(e)),r=0,a=i.length;while(a>r)H(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?S(t):U(S(t),e)},Z=function(t){var e=D.call(this,t=k(t,!0));return!(this===W&&r(R,t)&&!r(K,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,V)&&this[V][t])||e)},tt=function(t,e){if(t=x(t),e=k(e,!0),t!==W||!r(R,e)||r(K,e)){var n=P(t,e);return!n||!r(R,e)||r(t,V)&&t[V][e]||(n.enumerable=!0),n}},et=function(t){var e,n=N(x(t)),i=[],a=0;while(n.length>a)r(R,e=n[a++])||e==V||e==l||i.push(e);return i},nt=function(t){var e,n=t===W,i=N(n?K:x(t)),a=[],s=0;while(i.length>s)!r(R,e=i[s++])||n&&!r(W,e)||a.push(R[e]);return a};L||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(K,n),r(this,V)&&r(this[V],t)&&(this[V][t]=!1),Q(this,t,O(1,n))};return a&&G&&Q(W,t,{configurable:!0,set:e}),q(t)},o(F[C],"toString",(function(){return this._k})),j.f=tt,E.f=H,n("9093").f=A.f=et,n("52a7").f=Z,T.f=nt,a&&!n("2d00")&&o(W,"propertyIsEnumerable",Z,!0),h.f=function(t){return q(d(t))}),s(s.G+s.W+s.F*!L,{Symbol:F});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)d(it[rt++]);for(var at=_(d.store),st=0;at.length>st;)b(at[st++]);s(s.S+s.F*!L,"Symbol",{for:function(t){return r($,t+="")?$[t]:$[t]=F(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in $)if($[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!L,"Object",{create:X,defineProperty:H,defineProperties:U,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var ot=c((function(){T.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(w(t))}}),I&&s(s.S+s.F*(!L||c((function(){var t=F();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(g(e)||void 0!==t)&&!B(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!B(e))return e}),i[1]=e,M.apply(I,i)}}),F[C][J]||n("32e9")(F[C],J,F[C].valueOf),p(F,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},ac4d:function(t,e,n){n("3a72")("asyncIterator")},af4c:function(t,e,n){},d4c0:function(t,e,n){var i=n("0d58"),r=n("2621"),a=n("52a7");t.exports=function(t){var e=i(t),n=r.f;if(n){var s,o=n(t),l=a.f,c=0;while(o.length>c)l.call(t,s=o[c++])&&e.push(s)}return e}}}]);